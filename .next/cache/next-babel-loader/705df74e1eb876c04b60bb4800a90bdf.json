{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhavi\\\\Documents\\\\Coding\\\\IMA-next\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport IMALayout from '../components/IMALayout';\nimport IMARecentSalesChart from '../components/IMARecentSalesChart';\nimport fetch from 'isomorphic-unfetch';\n\nvar moment = require('moment');\n\nmoment().format('L');\nconst recent = {\n  \"02/10/2020\": [{\n    \"name\": \"Iron Sheet\",\n    \"qty\": 7,\n    \"price\": 10\n  }, {\n    \"name\": \"Copper Sheet\",\n    \"qty\": 2,\n    \"price\": 9.1\n  }],\n  \"02/09/2020\": [{\n    \"name\": \"Iron Sheet\",\n    \"qty\": 1,\n    \"price\": 10\n  }, {\n    \"name\": \"Copper Sheet\",\n    \"qty\": 1,\n    \"price\": 9.1\n  }]\n};\nconst recentF = [{\n  \"date\": \"02/10/2020\",\n  \"Iron Sheet\": 7,\n  \"Iron SheetColor\": \"hsl(129, 70%, 50%)\",\n  \"Copper Sheet\": 2,\n  \"Copper SheetColor\": \"hsl(77, 70%, 50%)\"\n}, {\n  \"date\": \"02/09/2020\",\n  \"Iron Sheet\": 1,\n  \"Iron SheetColor\": \"hsl(129, 70%, 50%)\",\n  \"Copper Sheet\": 1,\n  \"Copper SheetColor\": \"hsl(77, 70%, 50%)\"\n}];\nconst example = [{\n  \"country\": \"AD\",\n  \"hot dog\": 118,\n  \"hot dogColor\": \"hsl(77, 70%, 50%)\",\n  \"burger\": 138,\n  \"burgerColor\": \"hsl(339, 70%, 50%)\",\n  \"sandwich\": 151,\n  \"sandwichColor\": \"hsl(74, 70%, 50%)\",\n  \"kebab\": 143,\n  \"kebabColor\": \"hsl(228, 70%, 50%)\",\n  \"fries\": 197,\n  \"friesColor\": \"hsl(271, 70%, 50%)\",\n  \"donut\": 150,\n  \"donutColor\": \"hsl(129, 70%, 50%)\"\n}, {\n  \"country\": \"AE\",\n  \"hot dog\": 61,\n  \"hot dogColor\": \"hsl(130, 70%, 50%)\",\n  \"burger\": 137,\n  \"burgerColor\": \"hsl(145, 70%, 50%)\",\n  \"sandwich\": 127,\n  \"sandwichColor\": \"hsl(152, 70%, 50%)\",\n  \"kebab\": 59,\n  \"kebabColor\": \"hsl(9, 70%, 50%)\",\n  \"fries\": 28,\n  \"friesColor\": \"hsl(52, 70%, 50%)\",\n  \"donut\": 169,\n  \"donutColor\": \"hsl(300, 70%, 50%)\"\n}, {\n  \"country\": \"AF\",\n  \"hot dog\": 181,\n  \"hot dogColor\": \"hsl(296, 70%, 50%)\",\n  \"burger\": 188,\n  \"burgerColor\": \"hsl(219, 70%, 50%)\",\n  \"sandwich\": 97,\n  \"sandwichColor\": \"hsl(23, 70%, 50%)\",\n  \"kebab\": 118,\n  \"kebabColor\": \"hsl(277, 70%, 50%)\",\n  \"fries\": 127,\n  \"friesColor\": \"hsl(18, 70%, 50%)\",\n  \"donut\": 72,\n  \"donutColor\": \"hsl(92, 70%, 50%)\"\n}, {\n  \"country\": \"AG\",\n  \"hot dog\": 16,\n  \"hot dogColor\": \"hsl(347, 70%, 50%)\",\n  \"burger\": 27,\n  \"burgerColor\": \"hsl(97, 70%, 50%)\",\n  \"sandwich\": 43,\n  \"sandwichColor\": \"hsl(180, 70%, 50%)\",\n  \"kebab\": 179,\n  \"kebabColor\": \"hsl(285, 70%, 50%)\",\n  \"fries\": 134,\n  \"friesColor\": \"hsl(325, 70%, 50%)\",\n  \"donut\": 187,\n  \"donutColor\": \"hsl(145, 70%, 50%)\"\n}, {\n  \"country\": \"AI\",\n  \"hot dog\": 39,\n  \"hot dogColor\": \"hsl(23, 70%, 50%)\",\n  \"burger\": 82,\n  \"burgerColor\": \"hsl(77, 70%, 50%)\",\n  \"sandwich\": 192,\n  \"sandwichColor\": \"hsl(142, 70%, 50%)\",\n  \"kebab\": 41,\n  \"kebabColor\": \"hsl(360, 70%, 50%)\",\n  \"fries\": 99,\n  \"friesColor\": \"hsl(291, 70%, 50%)\",\n  \"donut\": 12,\n  \"donutColor\": \"hsl(359, 70%, 50%)\"\n}, {\n  \"country\": \"AL\",\n  \"hot dog\": 65,\n  \"hot dogColor\": \"hsl(229, 70%, 50%)\",\n  \"burger\": 54,\n  \"burgerColor\": \"hsl(132, 70%, 50%)\",\n  \"sandwich\": 121,\n  \"sandwichColor\": \"hsl(202, 70%, 50%)\",\n  \"kebab\": 133,\n  \"kebabColor\": \"hsl(58, 70%, 50%)\",\n  \"fries\": 144,\n  \"friesColor\": \"hsl(89, 70%, 50%)\",\n  \"donut\": 26,\n  \"donutColor\": \"hsl(120, 70%, 50%)\"\n}, {\n  \"country\": \"AM\",\n  \"hot dog\": 166,\n  \"hot dogColor\": \"hsl(120, 70%, 50%)\",\n  \"burger\": 165,\n  \"burgerColor\": \"hsl(194, 70%, 50%)\",\n  \"sandwich\": 181,\n  \"sandwichColor\": \"hsl(295, 70%, 50%)\",\n  \"kebab\": 43,\n  \"kebabColor\": \"hsl(128, 70%, 50%)\",\n  \"fries\": 69,\n  \"friesColor\": \"hsl(158, 70%, 50%)\",\n  \"donut\": 133,\n  \"donutColor\": \"hsl(292, 70%, 50%)\"\n}];\n\nconst Dashboard = props => {\n  console.log('recentSalesData' + JSON.stringify(props));\n  return __jsx(IMALayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"form to add new sale form to add new customer form to add new inventory item1\", __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"recent sales since 30 days ago: \", JSON.stringify(props.recentSalesData)), __jsx(\"div\", {\n    style: {\n      height: 1000 + \"px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, __jsx(IMARecentSalesChart, {\n    data: example,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }))));\n};\n\nDashboard.getInitialProps = async ctx => {\n  const res = await fetch('http://localhost:3000/api/sales?daysAgo=' + 30);\n  const json = await res.json();\n  console.log(`Show data fetched. ${JSON.stringify(json)}`);\n  var mostRecentSales = getMostRecentFormattedSales(json);\n  console.log(JSON.stringify(mostRecentSales[0]));\n  return {\n    recentSalesData: mostRecentSales\n  };\n};\n\nfunction getMostRecentFormattedSales(sales) {\n  var recentSales = {};\n  sales.forEach((sale, index) => {\n    console.log(index + \":\" + sale[\"date\"]);\n    var date = moment(sale[\"date\"]).format(\"L\");\n    var quantities = sale[\"quantities\"]; // console.log(JSON.stringify(quantities))\n\n    if (recentSales[date]) {\n      console.log('this date exists' + date);\n      recentSales[date].forEach((product, index) => {\n        // console.log(\"existing product name for this day: \" + product['name'])\n        var sameProduct = findProductInQuantities(product[\"name\"], quantities);\n        console.log(JSON.stringify(sameProduct));\n\n        if (sameProduct === null) {} else {\n          // console.log(\"found same product: \" + JSON.stringify(product) + product['qty'] +\"+\\n \" + JSON.stringify(sameProduct))\n          product[\"qty\"] += sameProduct[\"qty\"];\n        }\n      }, recentSales[date]);\n    } else {\n      //this date does not yet exist in recentSales\n      recentSales[date] = sale[\"quantities\"];\n    }\n  });\n  console.log(\"map:  \" + JSON.stringify(recentSales) + \"232323\");\n  return recentSales;\n}\n\n;\n\nfunction findProductInQuantities(name, quantities) {\n  var foundProduct = null;\n  quantities.forEach((product, index) => {\n    console.log(name + \"checking product name: \" + product['name']);\n\n    if (name == product['name']) {\n      console.log('true' + JSON.stringify(product));\n      foundProduct = product;\n    }\n  });\n  return foundProduct;\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/bhavi/Documents/Coding/IMA-next/pages/index.js"],"names":["IMALayout","IMARecentSalesChart","fetch","moment","require","format","recent","recentF","example","Dashboard","props","console","log","JSON","stringify","recentSalesData","height","getInitialProps","ctx","res","json","mostRecentSales","getMostRecentFormattedSales","sales","recentSales","forEach","sale","index","date","quantities","product","sameProduct","findProductInQuantities","name","foundProduct"],"mappings":"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","sourcesContent":["import IMALayout from '../components/IMALayout'\r\nimport IMARecentSalesChart from '../components/IMARecentSalesChart'\r\nimport fetch from 'isomorphic-unfetch'\r\nvar moment = require('moment')\r\nmoment().format('L');\r\n\r\nconst recent = {\r\n    \"02/10/2020\":\r\n        [{ \"name\": \"Iron Sheet\", \"qty\": 7, \"price\": 10 },\r\n        { \"name\": \"Copper Sheet\", \"qty\": 2, \"price\": 9.1 }],\r\n    \"02/09/2020\":\r\n        [{ \"name\": \"Iron Sheet\", \"qty\": 1, \"price\": 10 },\r\n        { \"name\": \"Copper Sheet\", \"qty\": 1, \"price\": 9.1 }]\r\n}\r\n\r\nconst recentF = [\r\n    {\r\n        \"date\": \"02/10/2020\",\r\n        \"Iron Sheet\": 7,\r\n        \"Iron SheetColor\": \"hsl(129, 70%, 50%)\",\r\n        \"Copper Sheet\": 2,\r\n        \"Copper SheetColor\": \"hsl(77, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"date\": \"02/09/2020\",\r\n        \"Iron Sheet\": 1,\r\n        \"Iron SheetColor\": \"hsl(129, 70%, 50%)\",\r\n        \"Copper Sheet\": 1,\r\n        \"Copper SheetColor\": \"hsl(77, 70%, 50%)\"\r\n    }\r\n]\r\n\r\nconst example = [\r\n    {\r\n        \"country\": \"AD\",\r\n        \"hot dog\": 118,\r\n        \"hot dogColor\": \"hsl(77, 70%, 50%)\",\r\n        \"burger\": 138,\r\n        \"burgerColor\": \"hsl(339, 70%, 50%)\",\r\n        \"sandwich\": 151,\r\n        \"sandwichColor\": \"hsl(74, 70%, 50%)\",\r\n        \"kebab\": 143,\r\n        \"kebabColor\": \"hsl(228, 70%, 50%)\",\r\n        \"fries\": 197,\r\n        \"friesColor\": \"hsl(271, 70%, 50%)\",\r\n        \"donut\": 150,\r\n        \"donutColor\": \"hsl(129, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"country\": \"AE\",\r\n        \"hot dog\": 61,\r\n        \"hot dogColor\": \"hsl(130, 70%, 50%)\",\r\n        \"burger\": 137,\r\n        \"burgerColor\": \"hsl(145, 70%, 50%)\",\r\n        \"sandwich\": 127,\r\n        \"sandwichColor\": \"hsl(152, 70%, 50%)\",\r\n        \"kebab\": 59,\r\n        \"kebabColor\": \"hsl(9, 70%, 50%)\",\r\n        \"fries\": 28,\r\n        \"friesColor\": \"hsl(52, 70%, 50%)\",\r\n        \"donut\": 169,\r\n        \"donutColor\": \"hsl(300, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"country\": \"AF\",\r\n        \"hot dog\": 181,\r\n        \"hot dogColor\": \"hsl(296, 70%, 50%)\",\r\n        \"burger\": 188,\r\n        \"burgerColor\": \"hsl(219, 70%, 50%)\",\r\n        \"sandwich\": 97,\r\n        \"sandwichColor\": \"hsl(23, 70%, 50%)\",\r\n        \"kebab\": 118,\r\n        \"kebabColor\": \"hsl(277, 70%, 50%)\",\r\n        \"fries\": 127,\r\n        \"friesColor\": \"hsl(18, 70%, 50%)\",\r\n        \"donut\": 72,\r\n        \"donutColor\": \"hsl(92, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"country\": \"AG\",\r\n        \"hot dog\": 16,\r\n        \"hot dogColor\": \"hsl(347, 70%, 50%)\",\r\n        \"burger\": 27,\r\n        \"burgerColor\": \"hsl(97, 70%, 50%)\",\r\n        \"sandwich\": 43,\r\n        \"sandwichColor\": \"hsl(180, 70%, 50%)\",\r\n        \"kebab\": 179,\r\n        \"kebabColor\": \"hsl(285, 70%, 50%)\",\r\n        \"fries\": 134,\r\n        \"friesColor\": \"hsl(325, 70%, 50%)\",\r\n        \"donut\": 187,\r\n        \"donutColor\": \"hsl(145, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"country\": \"AI\",\r\n        \"hot dog\": 39,\r\n        \"hot dogColor\": \"hsl(23, 70%, 50%)\",\r\n        \"burger\": 82,\r\n        \"burgerColor\": \"hsl(77, 70%, 50%)\",\r\n        \"sandwich\": 192,\r\n        \"sandwichColor\": \"hsl(142, 70%, 50%)\",\r\n        \"kebab\": 41,\r\n        \"kebabColor\": \"hsl(360, 70%, 50%)\",\r\n        \"fries\": 99,\r\n        \"friesColor\": \"hsl(291, 70%, 50%)\",\r\n        \"donut\": 12,\r\n        \"donutColor\": \"hsl(359, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"country\": \"AL\",\r\n        \"hot dog\": 65,\r\n        \"hot dogColor\": \"hsl(229, 70%, 50%)\",\r\n        \"burger\": 54,\r\n        \"burgerColor\": \"hsl(132, 70%, 50%)\",\r\n        \"sandwich\": 121,\r\n        \"sandwichColor\": \"hsl(202, 70%, 50%)\",\r\n        \"kebab\": 133,\r\n        \"kebabColor\": \"hsl(58, 70%, 50%)\",\r\n        \"fries\": 144,\r\n        \"friesColor\": \"hsl(89, 70%, 50%)\",\r\n        \"donut\": 26,\r\n        \"donutColor\": \"hsl(120, 70%, 50%)\"\r\n    },\r\n    {\r\n        \"country\": \"AM\",\r\n        \"hot dog\": 166,\r\n        \"hot dogColor\": \"hsl(120, 70%, 50%)\",\r\n        \"burger\": 165,\r\n        \"burgerColor\": \"hsl(194, 70%, 50%)\",\r\n        \"sandwich\": 181,\r\n        \"sandwichColor\": \"hsl(295, 70%, 50%)\",\r\n        \"kebab\": 43,\r\n        \"kebabColor\": \"hsl(128, 70%, 50%)\",\r\n        \"fries\": 69,\r\n        \"friesColor\": \"hsl(158, 70%, 50%)\",\r\n        \"donut\": 133,\r\n        \"donutColor\": \"hsl(292, 70%, 50%)\"\r\n    }\r\n]\r\nconst Dashboard = props => {\r\n    console.log('recentSalesData' + JSON.stringify(props))\r\n    return (\r\n        <IMALayout>\r\n            <div >\r\n                form to add new sale\r\n                form to add new customer\r\n                form to add new inventory item1\r\n            <p>recent sales since 30 days ago: {JSON.stringify(props.recentSalesData)}</p>\r\n                <div style={{ height: 1000 + \"px\" }}>\r\n                    <IMARecentSalesChart data={example} />\r\n                </div>\r\n            </div>\r\n        </IMALayout>\r\n    )\r\n\r\n};\r\n\r\nDashboard.getInitialProps = async ctx => {\r\n    const res = await fetch('http://localhost:3000/api/sales?daysAgo=' + 30)\r\n    const json = await res.json()\r\n    console.log(`Show data fetched. ${JSON.stringify(json)}`);\r\n    var mostRecentSales = getMostRecentFormattedSales(json)\r\n    console.log(JSON.stringify(mostRecentSales[0]))\r\n    return { recentSalesData: mostRecentSales };\r\n}\r\n\r\nfunction getMostRecentFormattedSales(sales) {\r\n    var recentSales = {}\r\n    sales.forEach((sale, index) => {\r\n        console.log(index + \":\" + sale[\"date\"])\r\n        var date = moment(sale[\"date\"]).format(\"L\")\r\n        var quantities = sale[\"quantities\"]\r\n        // console.log(JSON.stringify(quantities))\r\n        if (recentSales[date]) {\r\n            console.log('this date exists' + date)\r\n            recentSales[date].forEach((product, index) => {\r\n                // console.log(\"existing product name for this day: \" + product['name'])\r\n                var sameProduct = findProductInQuantities(product[\"name\"], quantities)\r\n                console.log(JSON.stringify(sameProduct))\r\n                if (sameProduct === null) {\r\n\r\n                } else {\r\n                    // console.log(\"found same product: \" + JSON.stringify(product) + product['qty'] +\"+\\n \" + JSON.stringify(sameProduct))\r\n                    product[\"qty\"] += sameProduct[\"qty\"]\r\n                }\r\n            }, recentSales[date])\r\n        } else {\r\n            //this date does not yet exist in recentSales\r\n            recentSales[date] = sale[\"quantities\"]\r\n        }\r\n    })\r\n    console.log(\"map:  \" + JSON.stringify(recentSales) + \"232323\")\r\n    return recentSales;\r\n};\r\n\r\nfunction findProductInQuantities(name, quantities) {\r\n    var foundProduct = null;\r\n    quantities.forEach((product, index) => {\r\n        console.log(name + \"checking product name: \" + product['name'])\r\n        if (name == product['name']) {\r\n            console.log('true' + JSON.stringify(product))\r\n            foundProduct = product;\r\n        }\r\n    });\r\n    return foundProduct;\r\n}\r\n\r\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}